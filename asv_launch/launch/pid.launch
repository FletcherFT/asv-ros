<launch>
<group ns="/twist_controller">
    <node name="x" pkg="pid" type="controller" output="screen">
    <param name="Kp" value="100.0"/>
    <param name="Ki" value="10.0"/>
    <param name="Kd" value="100.0"/>
    <param name="upper_limit" value="15"/>
    <param name="lower_limit" value="-15"/>
    <param name="windup_limit" value="5"/>
    <param name="max_loop_frequency" value="10.0"/>
    <param name="min_loop_frequency" value="10.0"/>
    <param name="cutoff_frequency" value="0.2"/>
    <remap from="setpoint" to="~/setpoint"/>
    <remap from="state" to="~/state"/>
    <remap from="control_effort" to="~/control_effort"/>
    </node>
    <node name="y" pkg="pid" type="controller" output="screen">
    <param name="Kp" value="100.0"/>
    <param name="Ki" value="10.0"/>
    <param name="Kd" value="100.0"/>
    <param name="upper_limit" value="15"/>
    <param name="lower_limit" value="-15"/>
    <param name="windup_limit" value="5"/>
    <param name="max_loop_frequency" value="10.0"/>
    <param name="min_loop_frequency" value="10.0"/>
    <param name="cutoff_frequency" value="0.2"/>
    <remap from="setpoint" to="~/setpoint"/>
    <remap from="state" to="~/state"/>
    <remap from="control_effort" to="~/control_effort"/>
    </node>
    <node name="z" pkg="pid" type="controller" output="screen">
    <param name="Kp" value="100.0"/>
    <param name="Ki" value="10.0"/>
    <param name="Kd" value="100.0"/>
    <param name="upper_limit" value="15"/>
    <param name="lower_limit" value="-15"/>
    <param name="windup_limit" value="5"/>
    <param name="max_loop_frequency" value="10.0"/>
    <param name="min_loop_frequency" value="10.0"/>
    <param name="cutoff_frequency" value="0.2"/>
    <remap from="setpoint" to="~/setpoint"/>
    <remap from="state" to="~/state"/>
    <remap from="control_effort" to="~/control_effort"/>
    </node>
    <node name="roll" pkg="pid" type="controller" output="screen">
    <param name="Kp" value="100.0"/>
    <param name="Ki" value="10.0"/>
    <param name="Kd" value="100.0"/>
    <param name="upper_limit" value="15"/>
    <param name="lower_limit" value="-15"/>
    <param name="windup_limit" value="5"/>
    <param name="max_loop_frequency" value="10.0"/>
    <param name="min_loop_frequency" value="10.0"/>
    <param name="cutoff_frequency" value="0.2"/>
    <remap from="setpoint" to="~/setpoint"/>
    <remap from="state" to="~/state"/>
    <remap from="control_effort" to="~/control_effort"/>
    </node>
    <node name="pitch" pkg="pid" type="controller" output="screen">
    <param name="Kp" value="100.0"/>
    <param name="Ki" value="10.0"/>
    <param name="Kd" value="100.0"/>
    <param name="upper_limit" value="15"/>
    <param name="lower_limit" value="-15"/>
    <param name="windup_limit" value="5"/>
    <param name="max_loop_frequency" value="10.0"/>
    <param name="min_loop_frequency" value="10.0"/>
    <param name="cutoff_frequency" value="0.2"/>
    <remap from="setpoint" to="~/setpoint"/>
    <remap from="state" to="~/state"/>
    <remap from="control_effort" to="~/control_effort"/>
    </node>
    <node name="yaw" pkg="pid" type="controller" output="screen">
    <param name="Kp" value="100.0"/>
    <param name="Ki" value="10.0"/>
    <param name="Kd" value="100.0"/>
    <param name="upper_limit" value="15"/>
    <param name="lower_limit" value="-15"/>
    <param name="windup_limit" value="5"/>
    <param name="max_loop_frequency" value="10.0"/>
    <param name="min_loop_frequency" value="10.0"/>
    <param name="cutoff_frequency" value="0.2"/>
    <remap from="setpoint" to="~/setpoint"/>
    <remap from="state" to="~/state"/>
    <remap from="control_effort" to="~/control_effort"/>
    </node>
</group>
<group ns="/pose_controller">
    <node name="x" pkg="pid" type="controller" output="screen">
    <param name="Kp" value="100.0"/>
    <param name="Ki" value="10.0"/>
    <param name="Kd" value="100.0"/>
    <param name="upper_limit" value="15"/>
    <param name="lower_limit" value="-15"/>
    <param name="windup_limit" value="5"/>
    <param name="max_loop_frequency" value="10.0"/>
    <param name="min_loop_frequency" value="10.0"/>
    <param name="cutoff_frequency" value="0.2"/>
    <remap from="setpoint" to="~/setpoint"/>
    <remap from="state" to="~/state"/>
    <remap from="control_effort" to="~/control_effort"/>
    </node>
    <node name="y" pkg="pid" type="controller" output="screen">
    <param name="Kp" value="100.0"/>
    <param name="Ki" value="10.0"/>
    <param name="Kd" value="100.0"/>
    <param name="upper_limit" value="15"/>
    <param name="lower_limit" value="-15"/>
    <param name="windup_limit" value="5"/>
    <param name="max_loop_frequency" value="10.0"/>
    <param name="min_loop_frequency" value="10.0"/>
    <param name="cutoff_frequency" value="0.2"/>
    <remap from="setpoint" to="~/setpoint"/>
    <remap from="state" to="~/state"/>
    <remap from="control_effort" to="~/control_effort"/>
    </node>
    <node name="z" pkg="pid" type="controller" output="screen">
    <param name="Kp" value="100.0"/>
    <param name="Ki" value="10.0"/>
    <param name="Kd" value="100.0"/>
    <param name="upper_limit" value="15"/>
    <param name="lower_limit" value="-15"/>
    <param name="windup_limit" value="5"/>
    <param name="max_loop_frequency" value="10.0"/>
    <param name="min_loop_frequency" value="10.0"/>
    <param name="cutoff_frequency" value="0.2"/>
    <remap from="setpoint" to="~/setpoint"/>
    <remap from="state" to="~/state"/>
    <remap from="control_effort" to="~/control_effort"/>
    </node>
    <node name="roll" pkg="pid" type="controller" output="screen">
    <param name="Kp" value="100.0"/>
    <param name="Ki" value="10.0"/>
    <param name="Kd" value="100.0"/>
    <param name="upper_limit" value="15"/>
    <param name="lower_limit" value="-15"/>
    <param name="windup_limit" value="5"/>
    <param name="max_loop_frequency" value="10.0"/>
    <param name="min_loop_frequency" value="10.0"/>
    <param name="cutoff_frequency" value="0.2"/>
    <remap from="setpoint" to="~/setpoint"/>
    <remap from="state" to="~/state"/>
    <remap from="control_effort" to="~/control_effort"/>
    </node>
    <node name="pitch" pkg="pid" type="controller" output="screen">
    <param name="Kp" value="100.0"/>
    <param name="Ki" value="10.0"/>
    <param name="Kd" value="100.0"/>
    <param name="upper_limit" value="15"/>
    <param name="lower_limit" value="-15"/>
    <param name="windup_limit" value="5"/>
    <param name="max_loop_frequency" value="10.0"/>
    <param name="min_loop_frequency" value="10.0"/>
    <param name="cutoff_frequency" value="0.2"/>
    <remap from="setpoint" to="~/setpoint"/>
    <remap from="state" to="~/state"/>
    <remap from="control_effort" to="~/control_effort"/>
    </node>
    <node name="yaw" pkg="pid" type="controller" output="screen">
    <param name="Kp" value="100.0"/>
    <param name="Ki" value="10.0"/>
    <param name="Kd" value="100.0"/>
    <param name="upper_limit" value="15"/>
    <param name="lower_limit" value="-15"/>
    <param name="windup_limit" value="5"/>
    <param name="max_loop_frequency" value="10.0"/>
    <param name="min_loop_frequency" value="10.0"/>
    <param name="cutoff_frequency" value="0.2"/>
    <remap from="setpoint" to="~/setpoint"/>
    <remap from="state" to="~/state"/>
    <remap from="control_effort" to="~/control_effort"/>
    </node>
</group>


    <node name="twist_controller" pkg="asv_control" type="twist_synch.py">
        <rosparam command="load" file="$(find asv_control)/params/synch_settings.yaml"/>
    </node>
    <node name="pose_controller" pkg="asv_control" type="pose_synch.py">
        <rosparam command="load" file="$(find asv_control)/params/synch_settings.yaml"/>
    </node>
</launch>
